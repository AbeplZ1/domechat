
:root{
  --bg:#0b0d10; --panel:#111318; --panel-2:#0e1014; --fg:#f3f5f8; --muted:#aab3c0;
  --accent:#7aa7ff; --line:rgba(255,255,255,.10); --glass:rgba(255,255,255,.06);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--fg);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,'Moldie','Share Tech Mono',sans-serif;
  display:flex; flex-direction:column;
}
a{color:#a7c8ff; text-decoration:none}

#topbar{
  display:flex; align-items:center; justify-content:center; gap:16px;
  padding:10px 16px; position:sticky; top:0; z-index:5;
  backdrop-filter: blur(10px);
  background: linear-gradient(180deg, rgba(9,11,14,.8), rgba(9,11,14,.4));
  border-bottom: 1px solid var(--line);
}
.brand{display:flex;align-items:center;gap:10px}
.brand .logo{font-weight:800; letter-spacing:.4px; font-size:19px}
.brand .dot{width:8px;height:8px;border-radius:50%;background:#7cfab5;box-shadow:0 0 12px #7cfab5}

.page{width:100%; max-width:1100px; margin:0 auto; padding:16px; flex:1; display:flex; flex-direction:column;}
.center{display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; gap:16px; min-height:calc(100vh - 70px)}

.grid{display:grid;grid-template-columns:1.5fr 1fr; gap:16px}
@media (max-width:960px){ .grid{grid-template-columns:1fr} }

.surface{
  background: linear-gradient(180deg,var(--panel),var(--panel-2));
  border:1px solid var(--line); border-radius:16px; overflow:hidden;
  box-shadow:0 14px 28px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.03);
  position:relative;
}

/* Videos */
#videoStage{height:64vh; min-height:360px}
#remoteVideo{position:absolute; inset:0; width:100%; height:100%; object-fit:cover; background:#000; z-index:1}
#localVideo{
  position:absolute; right:12px; bottom:12px; z-index:2;
  width:28vw; height:28vw; max-width:160px; max-height:160px; object-fit:cover;
  transform:scaleX(-1);
  border:2px solid rgba(255,255,255,.9); border-radius:12px; box-shadow:0 10px 24px rgba(0,0,0,.45);
}

/* Controls */
.controls{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:center}
button{
  padding:10px 14px; border:0; border-radius:12px; cursor:pointer; font-weight:700;
  color:#0c1220; background:linear-gradient(180deg,var(--accent),#4d7fe0);
  box-shadow:0 8px 20px rgba(45,120,255,.28);
}
button.ghost{ background: var(--glass); color:#e7ecf5; box-shadow:none; border:1px solid var(--line); }
button.square{border-radius:10px; padding:9px 12px}
button:hover{filter:brightness(1.06)}

/* Searching overlay */
.searching{
  position:absolute; inset:0; display:flex; align-items:center; justify-content:center; z-index:8;
  background:linear-gradient(180deg,rgba(12,14,18,.6),rgba(12,14,18,.3));
  backdrop-filter: blur(6px);
}
.dotpulse{display:inline-block;width:8px;height:8px;border-radius:50%;background:#bcd2ff;box-shadow:0 0 0 0 rgba(188,210,255,.7);animation:pulse 1.5s infinite}
@keyframes pulse{ 0%{box-shadow:0 0 0 0 rgba(188,210,255,.7)} 70%{box-shadow:0 0 0 18px rgba(188,210,255,0)} 100%{box-shadow:0 0 0 0 rgba(188,210,255,0)} }

/* Chat */
#chatPanel{display:flex;flex-direction:column;height:64vh;min-height:360px}
#chatMessages{flex:1; overflow-y:auto; padding:12px; border:1px solid var(--line); border-radius:14px; background: linear-gradient(180deg,#13161c,#0f1319)}
.msg{max-width:92%; padding:10px 12px; border-radius:12px; margin:8px 0; display:inline-block; line-height:1.25}
.msg .timestamp{display:block;font-size:10px;opacity:.6;margin-top:4px}
.msg.self{background:#1a2230; align-self:flex-end}
.msg.other{background:#131b27}
.system{opacity:.75; font-size:13px; padding:6px 0}
#controlsRow{display:flex; gap:8px; margin-top:10px}
#messageInput{flex:1; padding:12px; border-radius:12px; border:1px solid var(--line); background:#0c1117; color:#fff}
#typingIndicator{height:16px; font-size:12px; color:var(--muted); margin-top:4px}

/* Topic pill */
.topic-wrap{
  display:flex; align-items:center; justify-content:center; gap:8px; flex-wrap:wrap;
  background: linear-gradient(180deg, #121419, #0f1217);
  border:1px solid var(--line); border-radius:999px; padding:10px 12px;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.02);
  max-width:560px; width:100%;
}
.topic-wrap .icon{opacity:.9}
.topic-input{ flex:1; min-width:220px; background:transparent; border:0; outline:0; color:#fff; font-size:15px; padding:8px 6px; }
.topic-input::placeholder{color:var(--muted)}
.topic-go{border-radius:999px; padding:10px 16px}

/* Trending chips */
.chip{border-radius:999px; padding:8px 12px; border:1px solid var(--line); background:var(--glass); color:#e7ecf5; cursor:pointer}
.chip:hover{filter:brightness(1.06)}

/* Reactions */
.reaction-bar{
  position:absolute; left:50%; bottom:10px; transform:translateX(-50%); z-index:9;
  display:flex; gap:8px; padding:6px; border-radius:999px;
  background:rgba(0,0,0,.35); border:1px solid rgba(255,255,255,.14); backdrop-filter: blur(6px);
}
.reaction-btn{font-size:18px; padding:6px 10px; background:transparent; border:0; cursor:pointer; color:#fff}
.reaction-fx{position:absolute; z-index:10; font-size:28px; pointer-events:none; transform:translate(-50%,-50%); animation:fly 1200ms ease-out forwards}
@keyframes fly{0%{opacity:0;transform:translate(-50%,-10%) scale(.9)}10%{opacity:1}100%{opacity:0;transform:translate(-50%,-140%) scale(1.3)}}

/* Follow */
.follow-badge{position:fixed; bottom:10px; right:12px; font-size:12px; opacity:.85; background:rgba(255,255,255,.04); border:1px solid var(--line); padding:6px 8px; border-radius:8px}

/* Streamer */
body.streamer .follow-badge{display:none}
body.streamer #chatMessages, body.streamer #typingIndicator{filter:blur(10px)}
body.streamer .streamer-watermark{
  position:fixed; top:8px; left:50%; transform:translateX(-50%); z-index:9;
  background:rgba(0,0,0,.45); color:#fff; padding:6px 10px; border-radius:10px; font-size:12px; letter-spacing:.5px;
}

/* Camera overlay (on top, clickable) */
#camOverlay{
  position:absolute; left:0; right:0; top:0; bottom:0; z-index:12; display:flex;
  align-items:center; justify-content:center;
  background:linear-gradient(180deg,rgba(12,14,18,.72),rgba(12,14,18,.5));
  backdrop-filter: blur(6px);
}
.cam-card{
  max-width:560px; margin:0 auto; background:linear-gradient(180deg,#141821,#10141b);
  border:1px solid rgba(255,255,255,.12); border-radius:14px; padding:16px; text-align:center; color:#eef3ff
}
