
<!DOCTYPE html><html lang="en"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<link rel="icon" href="/favicon.ico" sizes="any"><link rel="icon" type="image/png" sizes="256x256" href="/favicon-256.png">
<title>Dome Phone</title>
<link rel="stylesheet" href="/styles.css"/>
<link rel="stylesheet" href="/css/domephone.css"/>
<style>
.admin-toolbar{display:none;gap:8px;flex-wrap:wrap;margin-top:8px}
.admin-toolbar button{padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,.18);background:rgba(255,255,255,.06);color:#fff}
.admin-badge{display:none;margin-left:8px;font-size:12px;opacity:.8}
.admin-modal{display:none;position:fixed;inset:0;z-index:999;background:rgba(0,0,0,.55);backdrop-filter:blur(4px);align-items:center;justify-content:center}
.admin-card{background:linear-gradient(180deg,#141821,#10141b);border:1px solid rgba(255,255,255,.12);border-radius:14px;padding:16px;max-width:420px;width:92%}
.admin-card input{width:100%;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,.15);background:#0c1117;color:#fff;margin:8px 0}
</style>
</head><body>
<div id="topbar">
  <div class="brand">
    <div class="dot"></div>
    <div class="logo">DOME PHONE</div>
    <span id="adminBadge" class="admin-badge">Admin</span>
  </div>
</div>

<div class="dp-container">
  <!-- Left column: Lobby card -->
  <section class="dp-card dp-lobby">
    <header class="dp-card-header">
      <div class="dp-card-title">Lobby</div>
      <div id="roomInfo" class="dp-badge">No room yet</div>
    </header>

    <div class="dp-form">
      <div class="dp-field">
        <label>Username</label>
        <input id="username" placeholder="Choose a username" maxlength="16"/>
      </div>

      <div class="dp-row">
        <div class="dp-field">
          <label>Room size</label>
          <select id="size">
            <option value="6">6</option>
            <option value="8" selected>8</option>
            <option value="10">10</option>
            <option value="12">12</option>
          </select>
        </div>

        <div class="dp-actions">
          <button id="createPrivate">Create Private</button>
          <button id="publicLobby" class="ghost">Find Public Lobby</button>
        </div>
      </div>

      <div class="dp-row">
        <div class="dp-field">
          <label>Join with code</label>
          <input id="roomCode" placeholder="e.g., 6-Letter Code" />
        </div>
        <button id="joinPrivate" class="ghost">Join</button>
      </div>
    </div>

    <div class="dp-members">
      <div class="dp-members-title">Players</div>
      <div id="membersRow" class="dp-members-list"></div>
    </div>

    <div class="admin-toolbar" id="adminToolbar">
      <button id="adminStart">Start Now</button>
      <button id="adminShorten">-15s Timer</button>
      <button id="adminExtend">+15s Timer</button>
      <button id="adminLock">Lock/Unlock Room</button>
      <button id="adminSetSize">Set Size</button>
      <button id="adminAnnounce">Announce</button>
      <button id="adminKick">Kick Playerâ€¦</button>
    </div>

    <div class="dp-footer">
      <button id="startGame" disabled>Start Game</button>
    </div>
  </section>

  <!-- Right column: Stage / Game panel -->
  <section class="dp-card dp-stage">
    <header class="dp-card-header">
      <div id="stageTitle" class="dp-card-title">Lobby</div>
      <div id="timerEl" class="dp-timer" aria-live="polite"></div>
    </header>
    <div id="stagePanel" class="dp-stage-panel">
      <div class="small">When enough players join, the host can start the game.</div>
    </div>
  </section>
</div>

<div class="admin-modal" id="adminModal">
  <div class="admin-card">
    <h3>Admin Login</h3>
    <p style="opacity:.8">Enter admin code to unlock controls.</p>
    <input id="adminCode" placeholder="Admin code" type="password"/>
    <div style="display:flex;gap:8px;justify-content:flex-end">
      <button id="adminCancel" class="ghost">Cancel</button>
      <button id="adminLogin">Log in</button>
    </div>
  </div>
</div>

<div class="follow-badge">follow domechat.live on TikTok</div>

<script src="/socket.io/socket.io.js"></script>
<script src="/js/domephone_game.js"></script>
<script src="/js/domephone_admin.js"></script>
<script>
// Open Admin modal with Ctrl+Shift+A
window.addEventListener('keydown', (e)=>{
  if((e.ctrlKey||e.metaKey) && e.shiftKey && e.key.toLowerCase()==='a'){
    document.getElementById('adminModal').style.display='flex';
    document.getElementById('adminCode').focus();
  }
});
</script>
</body></html>
